# ============================================================================
# LLM Configuration
# ============================================================================

# OpenAI-compatible API Configuration
# For external provider with Basic Auth
OPENAI_API_BASE=https://ccproxy.emottet.com/copilot/v1
OPENAI_MODEL_NAME=claude-sonnet-4.5

# Authentication - use either API key or Basic Auth token
# For Basic Auth, provide the base64-encoded credentials
# Example to generate: echo -n "username:password" | base64
OPENAI_API_AUTH_TOKEN=b2NvOjc2d3VudFk4Q3QzR2szRFU=
# OPENAI_API_KEY=your-api-key-here  # Alternative: use API key instead of Basic Auth

# Provider rotation configuration
ENABLE_LLM_PROVIDER_ROTATION=true
LLM_PROVIDER_ROTATION="claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|ENV:OPENAI_API_KEY;codex-gpt5|gpt-5|https://ccproxy.emottet.com/codex/v1|ENV:OPENAI_API_KEY"
# Codex endpoint rejects system prompts; the crew will automatically merge system instructions
# into the first user message whenever a provider uses https://ccproxy.emottet.com/codex/v1

# ============================================================================
# Per-Agent Model Optimization (Optional)
# ============================================================================
# Configure different models/endpoints for each agent to optimize costs
# If not set, agents will use OPENAI_COMPLEX_MODEL_NAME or OPENAI_SIMPLE_MODEL_NAME
#
# Available endpoints:
# - Claude: https://ccproxy.emottet.com/claude/v1 (claude-sonnet-4.5, claude-haiku-4.5, etc.)
# - Copilot: https://ccproxy.emottet.com/copilot/v1 (gpt-5-mini FREE, gpt-5, claude-sonnet-4.5, etc.)
# - Codex: https://ccproxy.emottet.com/codex/v1 (gpt-5, gpt-5-codex - cheap)
#
# Recommended cost-optimized configuration with load balancing:
# Description Agent (complex task - workout analysis, content generation)
# Use claude endpoint for load balancing rotation
# NOTE: Claude endpoint requires full model name with date
DESCRIPTION_AGENT_MODEL=claude-sonnet-4-5-20250929
DESCRIPTION_AGENT_API_BASE=https://ccproxy.emottet.com/claude/v1
# DESCRIPTION_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Music Agent (simple task - fetch Spotify tracks)
# MUSIC_AGENT_MODEL=claude-haiku-4.5
# MUSIC_AGENT_API_BASE=https://ccproxy.emottet.com/claude/v1
# Or use FREE model:
# MUSIC_AGENT_MODEL=gpt-5-mini
# MUSIC_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# MUSIC_PROVIDER_ROTATION=claude-haiku|claude-haiku-4-5-20251001|https://ccproxy.emottet.com/claude/v1|
#
# Privacy Agent (reasoning - PII detection, work hours compliance)
PRIVACY_AGENT_MODEL=gpt-5-mini
PRIVACY_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
#
# Translation Agent (language task - FR/EN translation)
TRANSLATION_AGENT_MODEL=gpt-5-mini
TRANSLATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1

# ============================================================================
# Meal Planning Crew (crew_mealy.py) - Per-Agent Model Optimization
# ============================================================================
# Configure different models/endpoints for each meal planning agent
# If not set, agents will use OPENAI_COMPLEX_MODEL_NAME or OPENAI_SIMPLE_MODEL_NAME
#
# Hexis Analysis Agent (complex task - training data analysis, nutritional calculations)
# HEXIS_ANALYSIS_AGENT_MODEL=claude-sonnet-4.5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# HEXIS_ANALYSIS_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
# Or use cheaper option:
# HEXIS_ANALYSIS_AGENT_MODEL=gpt-5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/codex/v1
#
# Weekly Structure Agent (complex task - strategic nutrition planning, reasoning)
# Use claude endpoint for load balancing rotation
# NOTE: Claude endpoint requires full model name with date
WEEKLY_STRUCTURE_AGENT_MODEL=claude-sonnet-4-5-20250929
WEEKLY_STRUCTURE_AGENT_API_BASE=https://ccproxy.emottet.com/claude/v1
# WEEKLY_STRUCTURE_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Meal Generation Agent (very complex - culinary creativity, nutritional precision)
# MEAL_GENERATION_AGENT_MODEL=claude-sonnet-4.5
# MEAL_GENERATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# Or use cheaper option:
# MEAL_GENERATION_AGENT_MODEL=gpt-5
# MEAL_GENERATION_AGENT_API_BASE=https://ccproxy.emottet.com/codex/v1
# MEAL_GENERATION_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Nutritional Validation Agent (medium task - validation, calculations)
# NUTRITIONAL_VALIDATION_AGENT_MODEL=claude-haiku-4.5
# NUTRITIONAL_VALIDATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# Or use cheaper option:
# NUTRITIONAL_VALIDATION_AGENT_MODEL=gpt-5-mini
# NUTRITIONAL_VALIDATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# NUTRITIONAL_VALIDATION_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Mealy Integration Agent (simple task - API integration, data formatting)
# MEALY_INTEGRATION_AGENT_MODEL=gpt-5-mini
# MEALY_INTEGRATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# MEALY_INTEGRATION_PROVIDER_ROTATION=claude-haiku|claude-haiku-4-5-20251001|https://ccproxy.emottet.com/claude/v1|

# MCP Server configuration
# API key for all MCP servers (shared across all MetaMCP endpoints)
MCP_API_KEY=sk_mt_your_api_key_here

# MCP Servers for Strava Description Crew (crew.py)
# Strava API (activity data, athlete profile, segments, routes)
STRAVA_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/SocialNetworkSport/mcp
# Intervals.icu (training data, activity intervals, wellness)
INTERVALS_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/IntervalsIcu/mcp
# Spotify (music playback history, recently played tracks)
MUSIC_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/Music/mcp
# OpenWeatherMap (weather context during activities)
METEO_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/meteo/mcp
# Toolbox (utility tools: time conversion, fetch, task management)
TOOLBOX_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/toolbox/mcp

# MCP Enforcement (default: true)
# If true, the system will fail if MCP_SERVER_URL is not configured or empty
# Set to false only for testing without MCP connectivity (not recommended in production)
REQUIRE_MCP=true

# Working hours configuration (Europe/Paris timezone, 24-hour format)
WORK_START_MORNING=08:30
WORK_END_MORNING=12:00
WORK_START_AFTERNOON=14:00
WORK_END_AFTERNOON=17:00

# Translation configuration
# Enable translation of titles and descriptions
# CRITICAL: Must be true in production - Strava audience is French-speaking
TRANSLATION_ENABLED=true
# Target language for translation (French for Strava audience)
TRANSLATION_TARGET_LANGUAGE=French
# Source language hint (Description Agent generates in English)
TRANSLATION_SOURCE_LANGUAGE=English

# ============================================================================
# Meal Planning Configuration (for crew_mealy.py)
# ============================================================================

# MCP Servers for Meal Planning Crew (crew_mealy.py)
# Food (Hexis nutrition data + USDA Food Data Central)
FOOD_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/food/mcp
# Intervals.icu (reuse from Strava config - training context for meal planning)
# INTERVALS_MCP_SERVER_URL is already defined above
# Toolbox (reuse from Strava config - utility tools)
# TOOLBOX_MCP_SERVER_URL is already defined above
