# ============================================================================
# CrewAI Configuration
# ============================================================================

# Disable telemetry to prevent sending traces to telemetry.crewai.com
OTEL_SDK_DISABLED=true

# ============================================================================
# LLM Configuration
# ============================================================================

# OpenAI-compatible API Configuration
# OpenAI-compatible API Configuration
OPENAI_API_BASE=https://ccproxy.emottet.com/v1
OPENAI_MODEL_NAME=claude-sonnet-4-5

# Authentication - API Key (Bearer token)
# REQUIRED: Set your API key for the endpoint
OPENAI_API_KEY=sk-NaSByEEQMTfChPlFHzFDQtDR1S07gXO6AbNhGXaJytpBZ

# Provider rotation configuration
ENABLE_LLM_PROVIDER_ROTATION=true
LLM_PROVIDER_ROTATION="claude-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY;claude-sonnet-dated|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY;claude-thinking|claude-sonnet-4-5-thinking|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY;codex-gpt5|gpt-5|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY"
# Codex endpoint rejects system prompts; the crew will automatically merge system instructions
# into the first user message whenever a provider uses https://ccproxy.emottet.com/codex/v1
#
# Z.ai GLM 4.6 Example (Chinese model with strong capabilities):
# LLM_PROVIDER_ROTATION="glm|glm-4.6|https://api.z.ai/api/coding/paas/v4|ENV:ZAI_API_KEY"
# ZAI_API_KEY=feed39bb0be741f78349b361c432a190.3gxAPwgjFKRwtmGO
#
# Automatic provider disabling on quota/rate limit errors
# When a provider returns 429/402 or quota error, it will be disabled for the specified TTL
# Default: 0 = disabled for entire execution, re-enabled on next process start
# Set to >0 (e.g., 3600) to re-enable after X seconds during the same execution
PROVIDER_DISABLED_TTL_SECONDS=0

# ============================================================================
# Per-Agent Model Optimization (Cost-Optimized Configuration)
# ============================================================================
# Configure different models/endpoints for each agent to optimize costs
# If not set, agents will use OPENAI_COMPLEX_MODEL_NAME or OPENAI_SIMPLE_MODEL_NAME
#
# Available endpoints:
# - Claude: https://ccproxy.emottet.com/claude/v1 (claude-sonnet-4.5, claude-haiku-4.5, etc.)
# - Copilot: https://ccproxy.emottet.com/copilot/v1 (gpt-5-mini FREE, gpt-5, claude-sonnet-4.5, etc.)
# - Codex: https://ccproxy.emottet.com/codex/v1 (gpt-5, gpt-5-codex - cheap)
# Description Agent (complex task - workout analysis, content generation)
# Use claude endpoint for load balancing rotation
# NOTE: Claude endpoint requires full model name with date
DESCRIPTION_AGENT_MODEL=claude-sonnet-4-5-20250929
DESCRIPTION_AGENT_API_BASE=https://ccproxy.emottet.com/claude/v1
# DESCRIPTION_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Music Agent (simple task - fetch Spotify tracks)
# MUSIC_AGENT_MODEL=claude-haiku-4.5
# MUSIC_AGENT_API_BASE=https://ccproxy.emottet.com/claude/v1
# Or use FREE model:
# MUSIC_AGENT_MODEL=gpt-5-mini
# MUSIC_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# MUSIC_PROVIDER_ROTATION=claude-haiku|claude-haiku-4-5-20251001|https://ccproxy.emottet.com/claude/v1|
#
# Privacy Agent (reasoning - PII detection, work hours compliance)
PRIVACY_AGENT_MODEL=gpt-5-mini
PRIVACY_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
#
# Translation Agent (language task - FR/EN translation)
TRANSLATION_AGENT_MODEL=gpt-5-mini
TRANSLATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
#
# Z.ai GLM 4.6 Examples (Alternative provider):
# DESCRIPTION_AGENT_MODEL=glm-4.6
# DESCRIPTION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4
# DESCRIPTION_PROVIDER_ROTATION="glm|glm-4.6|https://api.z.ai/api/coding/paas/v4|ENV:ZAI_API_KEY"
# ZAI_API_KEY=feed39bb0be741f78349b361c432a190.3gxAPwgjFKRwtmGO

# ============================================================================
# Model Blacklist Configuration (Optional)
# ============================================================================
# Blacklist specific models to avoid known issues
# Format: Comma-separated list of model names to avoid
# If a model is blacklisted, the system will automatically use fallback models:
# - claude-sonnet-4.5 for most endpoints
# - gpt-5-mini for codex endpoints
#
# Global Blacklist (applies to ALL agents in both crews):
# GLOBAL_BLACKLISTED_MODELS=problematic-model,experimental-beta,gpt-4-turbo
#
# Strava Description Crew (crew.py):
# DESCRIPTION_BLACKLISTED_MODELS=gpt-5,gpt-5-codex
# MUSIC_BLACKLISTED_MODELS=
# PRIVACY_BLACKLISTED_MODELS=
# TRANSLATION_BLACKLISTED_MODELS=
#
# Meal Planning Crew (crew_mealy.py):
# HEXIS_ANALYSIS_BLACKLISTED_MODELS=gpt-5,gpt-5-codex  # Default blacklist applied automatically
# WEEKLY_STRUCTURE_BLACKLISTED_MODELS=
# MEAL_GENERATION_BLACKLISTED_MODELS=
# MEAL_COMPILATION_BLACKLISTED_MODELS=
# NUTRITIONAL_VALIDATION_BLACKLISTED_MODELS=
# MEALY_INTEGRATION_BLACKLISTED_MODELS=
#
# Priority order: Agent-specific > Global > Default (for HEXIS_ANALYSIS)
#
# Examples:
# # Ban all GPT-5 variants globally for all agents
# GLOBAL_BLACKLISTED_MODELS=gpt-5,gpt-5-codex,gpt-5-turbo
#
# # Override global ban for specific agent (allow gpt-5 for Description only)
# GLOBAL_BLACKLISTED_MODELS=gpt-5
# DESCRIPTION_AGENT_MODEL=gpt-5  # This will override global blacklist
# # OR whitelist by excluding from agent blacklist:
# DESCRIPTION_BLACKLISTED_MODELS=  # Empty list = no blacklist for this agent

# ============================================================================
# Meal Planning Crew (crew_mealy.py) - Per-Agent Model Optimization
# ============================================================================
# Configure different models/endpoints for each meal planning agent
# If not set, agents will use OPENAI_COMPLEX_MODEL_NAME or OPENAI_SIMPLE_MODEL_NAME
#
# Hexis Analysis Agent (complex task - training data analysis, nutritional calculations)
# HEXIS_ANALYSIS_AGENT_MODEL=claude-sonnet-4.5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# HEXIS_ANALYSIS_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
# Or use cheaper option:
# HEXIS_ANALYSIS_AGENT_MODEL=gpt-5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/codex/v1
#
# Weekly Structure Agent (complex task - strategic nutrition planning, reasoning)
# Use claude endpoint for load balancing rotation
# NOTE: Claude endpoint requires full model name with date
WEEKLY_STRUCTURE_AGENT_MODEL=claude-sonnet-4-5-20250929
WEEKLY_STRUCTURE_AGENT_API_BASE=https://ccproxy.emottet.com/claude/v1
# WEEKLY_STRUCTURE_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Meal Generation Agent (very complex - culinary creativity, nutritional precision)
# MEAL_GENERATION_AGENT_MODEL=claude-sonnet-4.5
# MEAL_GENERATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# Or use cheaper option:
# MEAL_GENERATION_AGENT_MODEL=gpt-5
# MEAL_GENERATION_AGENT_API_BASE=https://ccproxy.emottet.com/codex/v1
# MEAL_GENERATION_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Nutritional Validation Agent (medium task - validation, calculations)
# NUTRITIONAL_VALIDATION_AGENT_MODEL=claude-haiku-4.5
# NUTRITIONAL_VALIDATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# Or use cheaper option:
# NUTRITIONAL_VALIDATION_AGENT_MODEL=gpt-5-mini
# NUTRITIONAL_VALIDATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# NUTRITIONAL_VALIDATION_PROVIDER_ROTATION=copilot-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/copilot/v1|
#
# Mealy Integration Agent (simple task - API integration, data formatting)
# MEALY_INTEGRATION_AGENT_MODEL=gpt-5-mini
# MEALY_INTEGRATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# MEALY_INTEGRATION_PROVIDER_ROTATION=claude-haiku|claude-haiku-4-5-20251001|https://ccproxy.emottet.com/claude/v1|

# MCP Server configuration
# API key for all MCP servers (shared across all MetaMCP endpoints)
MCP_API_KEY=sk_mt_knHh0F3WLsJcrHpTFT3VC0ChzOpfGzGnp4CdjKzFIPLDN0zHWn2XR6YTIe0KHsmk

# MCP Servers for Strava Description Crew (crew.py)
# Strava API (activity data, athlete profile, segments, routes)
STRAVA_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/SocialNetworkSport/mcp
# Intervals.icu (training data, activity intervals, wellness)
INTERVALS_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/IntervalsIcu/mcp
# Spotify (music playback history, recently played tracks)
MUSIC_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/Music/mcp
# OpenWeatherMap (weather context during activities)
METEO_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/meteo/mcp
# Toolbox (utility tools: time conversion, fetch, task management)
TOOLBOX_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/toolbox/mcp

# MCP Enforcement (default: true)
# If true, the system will fail if MCP_SERVER_URL is not configured or empty
# Set to false only for testing without MCP connectivity (not recommended in production)
REQUIRE_MCP=true

# Working hours configuration (Europe/Paris timezone, 24-hour format)
WORK_START_MORNING=08:30
WORK_END_MORNING=12:00
WORK_START_AFTERNOON=14:00
WORK_END_AFTERNOON=17:00

# Translation configuration
# Enable translation of titles and descriptions
# CRITICAL: Must be true in production - Strava audience is French-speaking
TRANSLATION_ENABLED=true
# Target language for translation (French for Strava audience)
TRANSLATION_TARGET_LANGUAGE=French
# Source language hint (Description Agent generates in English)
TRANSLATION_SOURCE_LANGUAGE=English

# ============================================================================
# Meal Planning Configuration (for crew_mealy.py)
# ============================================================================

# MCP Servers for Meal Planning Crew (crew_mealy.py)
# Food (Hexis nutrition data + USDA Food Data Central)
FOOD_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/food/mcp
# Intervals.icu (reuse from Strava config - training context for meal planning)
# INTERVALS_MCP_SERVER_URL is already defined above
# Toolbox (reuse from Strava config - utility tools)
# TOOLBOX_MCP_SERVER_URL is already defined above
