# ============================================================================
# Observability Configuration
# ============================================================================

# CrewAI Telemetry (send traces to platform.crewai.com)
# Set to 'false' to disable telemetry completely
CREWAI_ENABLE_TELEMETRY=true

# OpenTelemetry Configuration
# Service name for identifying this crew on the telemetry platform
OTEL_SERVICE_NAME=strava-description-crew

# OTEL endpoint (default: platform.crewai.com)
# To use a local OTEL collector, set to http://localhost:4317
OTEL_EXPORTER_OTLP_ENDPOINT=https://telemetry.crewai.com

# OTEL protocol (grpc or http/protobuf)
OTEL_EXPORTER_OTLP_PROTOCOL=grpc

# Structured Logging Configuration
# Directory for JSON log files (default: /tmp/crew_logs)
LOG_DIR=/tmp/crew_logs

# Log retention in days (default: 7)
# Logs older than this will be automatically cleaned up
LOG_RETENTION_DAYS=7

# Log level for structured logs (DEBUG, INFO, WARNING, ERROR)
STRUCTURED_LOG_LEVEL=INFO

# Enable enhanced workflow logging (Music/Lyrics detailed tracking)
# Set to false to disable enhanced logging (basic logging only)
ENABLE_ENHANCED_LOGGING=true

# OpenAI-compatible API Configuration
# Using GLM-4.6 with Z.ai API as default (now fixed function calling support)
OPENAI_API_BASE=https://api.z.ai/api/coding/paas/v4
OPENAI_MODEL_NAME=glm-4.6
# OpenAI-compatible API Configuration
OPENAI_API_BASE=https://ccproxy.emottet.com/v1
OPENAI_MODEL_NAME=claude-sonnet-4-5

# Authentication - API Key (Bearer token)
# REQUIRED: Set your API key for the endpoint
OPENAI_API_KEY=sk-NaSByEEQMTfChPlFHzFDQtDR1S07gXO6AbNhGXaJytpBZ

# # Authentication - Basic Auth
# OPENAI_API_AUTH_TOKEN=b2NvOjc2d3VudFk4Q3QzR2szRFU=

# Provider rotation configuration
ENABLE_LLM_PROVIDER_ROTATION=true
LLM_PROVIDER_ROTATION="claude-sonnet|claude-sonnet-4-5|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY;claude-sonnet-dated|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY;claude-thinking|claude-sonnet-4-5-thinking|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY;gpt-5-mini|gpt-5-mini|https://ccproxy.emottet.com/v1|ENV:OPENAI_API_KEY"


# MCP Server configuration
# Shared MCP API Key (used by all MCP servers)
MCP_API_KEY=sk_mt_knHh0F3WLsJcrHpTFT3VC0ChzOpfGzGnp4CdjKzFIPLDN0zHWn2XR6YTIe0KHsmk

# MCP Servers for Strava Description Crew (crew.py)
STRAVA_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/SocialNetworkSport/mcp
INTERVALS_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/IntervalsIcu/mcp
MUSIC_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/Music/mcp
METEO_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/meteo/mcp
TOOLBOX_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/toolbox/mcp

# MCP Servers for Meal Planning Crew (crew_mealy.py)
FOOD_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/food/mcp

# Working hours configuration (Europe/Paris timezone, 24-hour format)
WORK_START_MORNING=08:30
WORK_END_MORNING=12:00
WORK_START_AFTERNOON=14:00
WORK_END_AFTERNOON=17:00

# Translation configuration (OBLIGATOIRE - audience Strava francophone)
TRANSLATION_ENABLED=true
TRANSLATION_TARGET_LANGUAGE=French
TRANSLATION_SOURCE_LANGUAGE=English

REQUIRE_MCP=true

# ============================================================================
# Per-Agent Model Optimization (Cost-Optimized Configuration)
# ============================================================================
# Description Agent
DESCRIPTION_AGENT_MODEL=claude-sonnet-4-5
DESCRIPTION_AGENT_API_BASE=https://ccproxy.emottet.com/v1

# Music Agent
MUSIC_AGENT_MODEL=claude-sonnet-4-5
MUSIC_AGENT_API_BASE=https://ccproxy.emottet.com/v1

# Privacy Agent
PRIVACY_AGENT_MODEL=claude-sonnet-4-5
PRIVACY_AGENT_API_BASE=https://ccproxy.emottet.com/v1

# Translation Agent
TRANSLATION_AGENT_MODEL=claude-sonnet-4-5
TRANSLATION_AGENT_API_BASE=https://ccproxy.emottet.com/v1

# API Keys for different endpoints
COPILOT_API_KEY=sk-NaSByEEQMTfChPlFHzFDQtDR1S07gXO6AbNhGXaJytpBZ

# ============================================================================
# Model Configuration (Unified for all crews)
# ============================================================================

# Model Categories:
# Les catégories et leurs modèles sont définis dans llm_provider_rotation.py
# - COMPLEXE: Modèles les plus performants (thinking, high-tier)
# - INTERMÉDIAIRE: Bon équilibre performance/coût
# - SIMPLE: Modèles rapides et économiques
# - FALLBACK: Modèles toujours disponibles (gpt-5-mini, raptor-mini)
#
# Système de cascade automatique:
#   complexe → intermédiaire → simple → fallback
#   Si un modèle échoue (quota/404), essaye le suivant dans la catégorie
#   Si tous échouent, descend à la catégorie inférieure
#   Si fallback échoue → crash

# Category defaults (optional - uses random selection from category if not set)
# OPENAI_COMPLEX_MODEL_NAME=claude-sonnet-4-5-thinking
# OPENAI_INTERMEDIATE_MODEL_NAME=claude-haiku-4.5-copilot
# OPENAI_SIMPLE_MODEL_NAME=gpt-5.1-low

# ============================================================================
# Per-Agent Overrides (OPTIONAL - uses category defaults if not set)
# ============================================================================

# Strava Description Crew (crew.py)
# DESCRIPTION_AGENT_MODEL=  # Uses COMPLEX category
# MUSIC_AGENT_MODEL=  # Uses INTERMEDIATE category
# PRIVACY_AGENT_MODEL=  # Uses SIMPLE category
# TRANSLATION_AGENT_MODEL=  # Uses SIMPLE category

# Meal Planning Crew (crew_mealy.py)
# HEXIS_ANALYSIS_AGENT_MODEL=  # Uses COMPLEX category
# MEAL_GENERATION_AGENT_MODEL=  # Uses COMPLEX category
# WEEKLY_STRUCTURE_AGENT_MODEL=  # Uses INTERMEDIATE category
# NUTRITIONAL_VALIDATION_AGENT_MODEL=  # Uses INTERMEDIATE category
# MEAL_COMPILATION_AGENT_MODEL=  # Uses SIMPLE category
# MEALY_INTEGRATION_AGENT_MODEL=  # Uses SIMPLE category
