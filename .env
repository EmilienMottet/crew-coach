# CrewAI Telemetry Configuration
# Disable telemetry to prevent sending traces to telemetry.crewai.com
# Reference: https://docs.crewai.com/en/telemetry
OTEL_SDK_DISABLED=true
CREWAI_DISABLE_TELEMETRY=true

# OpenAI-compatible API Configuration
# Using Claude Sonnet 4.5 instead of GPT-5 (faster and more reliable)
OPENAI_API_BASE=https://ccproxy.emottet.com/copilot/v1
OPENAI_MODEL_NAME=claude-sonnet-4.5
OPENAI_API_KEY=cWCsrv7H-SKZl0Z9-2JOk7pmzsdO7yQ2abmmR1D0vBs

# # Authentication - Basic Auth
# OPENAI_API_AUTH_TOKEN=b2NvOjc2d3VudFk4Q3QzR2szRFU=

ENABLE_LLM_PROVIDER_ROTATION=true
# Removed Codex from global rotation - it doesn't support tool calls for GPT-5
# Original: "claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|ENV:OPENAI_API_KEY;codex-gpt5|gpt-5|https://ccproxy.emottet.com/codex/v1|ENV:OPENAI_API_KEY"
# DISABLED: Claude endpoint has timeout issues - using per-agent rotation instead
# LLM_PROVIDER_ROTATION="claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|ENV:OPENAI_API_KEY"


# MCP Server configuration
# Shared MCP API Key (used by all MCP servers)
MCP_API_KEY=sk_mt_knHh0F3WLsJcrHpTFT3VC0ChzOpfGzGnp4CdjKzFIPLDN0zHWn2XR6YTIe0KHsmk

# MCP Servers for Strava Description Crew (crew.py)
STRAVA_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/SocialNetworkSport/mcp
INTERVALS_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/IntervalsIcu/mcp
MUSIC_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/Music/mcp
METEO_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/meteo/mcp
TOOLBOX_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/toolbox/mcp

# MCP Servers for Meal Planning Crew (crew_mealy.py)
FOOD_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/food/mcp

# Working hours configuration (Europe/Paris timezone, 24-hour format)
WORK_START_MORNING=08:30
WORK_END_MORNING=12:00
WORK_START_AFTERNOON=14:00
WORK_END_AFTERNOON=17:00

# Translation configuration (OBLIGATOIRE - audience Strava francophone)
TRANSLATION_ENABLED=true
TRANSLATION_TARGET_LANGUAGE=French
TRANSLATION_SOURCE_LANGUAGE=English

REQUIRE_MCP=true

# ============================================================================
# Per-Agent Model Optimization (Cost-Optimized Configuration)
# ============================================================================
# Description Agent: GLM-4.6 as primary (only working provider), others as fallback
# Primary: glm-4.6 (z.ai) → claude-sonnet-4-5-20250929 (claude) → claude-sonnet-4.5 (copilot) → gpt-5-mini (copilot)
# Fallback: All others if GLM-4.6 fails
DESCRIPTION_AGENT_MODEL=glm-4.6
DESCRIPTION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4
DESCRIPTION_PROVIDER_ROTATION=zai-glm46|glm-4.6|https://api.z.ai/api/coding/paas/v4|ENV:ZAI_API_KEY

# Music Agent: GLM-4.6 as primary (only working provider), others as fallback
# Primary: glm-4.6 (z.ai) → claude-sonnet-4-5-20250929 (claude) → claude-sonnet-4.5 (copilot) → gpt-5-mini (copilot)
# Fallback: All others if GLM-4.6 fails
MUSIC_AGENT_MODEL=glm-4.6
MUSIC_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4
MUSIC_PROVIDER_ROTATION=zai-glm46|glm-4.6|https://api.z.ai/api/coding/paas/v4|ENV:ZAI_API_KEY

# Privacy Agent: gpt-5-mini (copilot endpoint) - FREE model, load balancing rotation
PRIVACY_AGENT_MODEL=gpt-5-mini
PRIVACY_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1

# Translation Agent: gpt-5-mini (copilot endpoint) - FREE model, load balancing rotation
TRANSLATION_AGENT_MODEL=gpt-5-mini
TRANSLATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1

# ============================================================================
# Meal Planning Crew (crew_mealy.py) - Per-Agent Model Configuration
# ============================================================================
# Hexis Analysis Agent: claude-sonnet-4.5 (copilot endpoint - default)
# (Uses default endpoint, no override needed)
# HEXIS_ANALYSIS_AGENT_MODEL=claude-sonnet-4.5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1

# Weekly Structure Agent: claude-sonnet-4.5 (claude endpoint) - Load balancing rotation
# WEEKLY_STRUCTURE_AGENT_MODEL=claude-sonnet-4.5
# WEEKLY_STRUCTURE_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# WEEKLY_STRUCTURE_PROVIDER_ROTATION=codex-gpt5|gpt-5|https://ccproxy.emottet.com/codex/v1|; claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|

# Meal Generation Agent: claude-sonnet-4.5 (copilot endpoint - default)
# (Uses default endpoint, no override needed)
# MEAL_GENERATION_AGENT_MODEL=claude-sonnet-4.5
# MEAL_GENERATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# MEAL_GENERATION_PROVIDER_ROTATION=codex-gpt5|gpt-5|https://ccproxy.emottet.com/codex/v1|; claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|

# Nutritional Validation Agent: claude-haiku-4.5 (copilot endpoint - default)
# (Uses default endpoint, no override needed)
# NUTRITIONAL_VALIDATION_AGENT_MODEL=claude-haiku-4.5
# NUTRITIONAL_VALIDATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# Treat as complex agent (uses claude-sonnet by default in code)
# NUTRITIONAL_VALIDATION_PROVIDER_ROTATION=codex-gpt5|gpt-5|https://ccproxy.emottet.com/codex/v1|; claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|

# Mealy Integration Agent: claude-haiku-4.5 (copilot endpoint - default)
# (Uses default simple_llm, no override needed)
# MEALY_INTEGRATION_AGENT_MODEL=claude-haiku-4.5
# MEALY_INTEGRATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# MEALY_INTEGRATION_PROVIDER_ROTATION=claude-haiku|claude-haiku-4-5-20251001|https://ccproxy.emottet.com/claude/v1|

# Meal Compilation Agent: claude-haiku-4.5 (copilot endpoint - default simple model)
# (Uses default simple_llm, no override needed)
# MEAL_COMPILATION_AGENT_MODEL=claude-haiku-4.5
# MEAL_COMPILATION_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1
# MEAL_COMPILATION_PROVIDER_ROTATION=claude-haiku|claude-haiku-4-5-20251001|https://ccproxy.emottet.com/claude/v1|

# Hexis Analysis Agent: MUST use Copilot endpoint (needs system prompts for JSON output)
# FORCE Claude to avoid infinite loops with GPT-5
# HEXIS_ANALYSIS_AGENT_MODEL=claude-sonnet-4.5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1

# Blacklist GPT-5 models for HEXIS_ANALYSIS to prevent infinite loops
HEXIS_ANALYSIS_BLACKLISTED_MODELS=gpt-5,gpt-5-codex

# Safe rotation - Claude + GLM-4.6 (no GPT-5 to avoid tool call loops)
HEXIS_ANALYSIS_PROVIDER_ROTATION=claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|ENV:OPENAI_API_KEY; glm-4.6|glm-4.6|https://api.z.ai/api/coding/paas/v4|ENV:ZAI_API_KEY


# Z.ai API Key (for GLM-4.6 model)
ZAI_API_KEY=feed39bb0be741f78349b361c432a190.3gxAPwgjFKRwtmGO
