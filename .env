# CrewAI Telemetry Configuration
# Disable telemetry to prevent sending traces to telemetry.crewai.com
# Reference: https://docs.crewai.com/en/telemetry
OTEL_SDK_DISABLED=true
CREWAI_DISABLE_TELEMETRY=true

# OpenAI-compatible API Configuration
# Using GLM-4.6 with Z.ai API as default (now fixed function calling support)
OPENAI_API_BASE=https://api.z.ai/api/coding/paas/v4
OPENAI_MODEL_NAME=glm-4.6
OPENAI_API_KEY=feed39bb0be741f78349b361c432a190.3gxAPwgjFKRwtmGO

# # Authentication - Basic Auth
# OPENAI_API_AUTH_TOKEN=b2NvOjc2d3VudFk4Q3QzR2szRFU=

ENABLE_LLM_PROVIDER_ROTATION=false
# Removed Codex from global rotation - it doesn't support tool calls for GPT-5
# Original: "claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|ENV:OPENAI_API_KEY;codex-gpt5|gpt-5|https://ccproxy.emottet.com/codex/v1|ENV:OPENAI_API_KEY"
# DISABLED: Claude endpoint has timeout issues - using per-agent rotation instead
# LLM_PROVIDER_ROTATION="claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|ENV:OPENAI_API_KEY"


# MCP Server configuration
# Shared MCP API Key (used by all MCP servers)
MCP_API_KEY=sk_mt_knHh0F3WLsJcrHpTFT3VC0ChzOpfGzGnp4CdjKzFIPLDN0zHWn2XR6YTIe0KHsmk

# MCP Servers for Strava Description Crew (crew.py)
STRAVA_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/SocialNetworkSport/mcp
INTERVALS_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/IntervalsIcu/mcp
MUSIC_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/Music/mcp
METEO_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/meteo/mcp
TOOLBOX_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/toolbox/mcp

# MCP Servers for Meal Planning Crew (crew_mealy.py)
FOOD_MCP_SERVER_URL=https://mcp.emottet.com/metamcp/food/mcp

# Working hours configuration (Europe/Paris timezone, 24-hour format)
WORK_START_MORNING=08:30
WORK_END_MORNING=12:00
WORK_START_AFTERNOON=14:00
WORK_END_AFTERNOON=17:00

# Translation configuration (OBLIGATOIRE - audience Strava francophone)
TRANSLATION_ENABLED=true
TRANSLATION_TARGET_LANGUAGE=French
TRANSLATION_SOURCE_LANGUAGE=English

REQUIRE_MCP=true

# ============================================================================
# Per-Agent Model Optimization (Cost-Optimized Configuration)
# ============================================================================
# Description Agent: GLM-4.6 (uses default Z.ai configuration - function calling now fixed)
DESCRIPTION_AGENT_MODEL=glm-4.6
DESCRIPTION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Music Agent: GLM-4.6 (uses default Z.ai configuration - function calling now fixed)
MUSIC_AGENT_MODEL=glm-4.6
MUSIC_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Privacy Agent: GLM-4.6 (Z.ai endpoint) - No tools needed, pure reasoning
PRIVACY_AGENT_MODEL=glm-4.6
PRIVACY_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Translation Agent: GLM-4.6 (Z.ai endpoint) - No tools needed, excellent for translation
TRANSLATION_AGENT_MODEL=glm-4.6
TRANSLATION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# API Keys for different endpoints
COPILOT_API_KEY=cWCsrv7H-SKZl0Z9-2JOk7pmzsdO7yQ2abmmR1D0vBs
ZAI_API_KEY=feed39bb0be741f78349b361c432a190.3gxAPwgjFKRwtmGO  # Used for agents without tools

# ============================================================================
# Meal Planning Crew (crew_mealy.py) - Per-Agent Model Configuration
# ============================================================================
# Hexis Analysis Agent: claude-sonnet-4.5 (copilot endpoint - default)
# (Uses default endpoint, no override needed)
# HEXIS_ANALYSIS_AGENT_MODEL=claude-sonnet-4.5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1

# Weekly Structure Agent: GLM-4.6 (uses default Z.ai configuration)
WEEKLY_STRUCTURE_AGENT_MODEL=glm-4.6
WEEKLY_STRUCTURE_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Meal Generation Agent: GLM-4.6 (uses default Z.ai configuration - function calling now fixed)
MEAL_GENERATION_AGENT_MODEL=glm-4.6
MEAL_GENERATION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Nutritional Validation Agent: GLM-4.6 (uses default Z.ai configuration - function calling now fixed)
NUTRITIONAL_VALIDATION_AGENT_MODEL=glm-4.6
NUTRITIONAL_VALIDATION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Mealy Integration Agent: GLM-4.6 (uses default Z.ai configuration - function calling now fixed)
MEALY_INTEGRATION_AGENT_MODEL=glm-4.6
MEALY_INTEGRATION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Meal Compilation Agent: GLM-4.6 (uses default Z.ai configuration - function calling now fixed)
MEAL_COMPILATION_AGENT_MODEL=glm-4.6
MEAL_COMPILATION_AGENT_API_BASE=https://api.z.ai/api/coding/paas/v4

# Hexis Analysis Agent: MUST use Copilot endpoint (needs system prompts for JSON output)
# FORCE Claude to avoid infinite loops with GPT-5
# HEXIS_ANALYSIS_AGENT_MODEL=claude-sonnet-4.5
# HEXIS_ANALYSIS_AGENT_API_BASE=https://ccproxy.emottet.com/copilot/v1

# Blacklist GPT-5 models for HEXIS_ANALYSIS to prevent infinite loops
HEXIS_ANALYSIS_BLACKLISTED_MODELS=gpt-5,gpt-5-codex

# Safe rotation - Claude + GLM-4.6 (no GPT-5 to avoid tool call loops, GLM-4.6 function calling now fixed)
HEXIS_ANALYSIS_PROVIDER_ROTATION=claude-sonnet|claude-sonnet-4-5-20250929|https://ccproxy.emottet.com/claude/v1|COPILOT_API_KEY; claude-sonnet|claude-sonnet-4.5|https://ccproxy.emottet.com/copilot/v1|COPILOT_API_KEY; glm-4.6|glm-4.6|https://api.z.ai/api/coding/paas/v4|ZAI_API_KEY


# Z.ai API Key (used for agents without tools - GLM-4.6)
# ZAI_API_KEY=feed39bb0be741f78349b361c432a190.3gxAPwgjFKRwtmGO
