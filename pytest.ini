[pytest]
# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test paths
testpaths = tests test_strava_description_crew.py

# Markers for selective test execution
markers =
    priority_high: High-priority tests (privacy, translation, JSON)
    priority_medium: Medium-priority tests (full pipeline, contract)
    priority_low: Low-priority tests (edge cases, music agent)
    unit: Unit tests (individual agents)
    integration: Integration tests (full pipeline)
    robustness: Robustness tests (error handling)
    contract: Contract tests (schema validation)
    slow: Tests that take >10 seconds
    mcp_required: Tests requiring MCP server connections (skipped in CI)
    timeout: Test timeout in seconds (provided by pytest-timeout)

# Output options
addopts =
    -v
    --tb=short
    --strict-markers
    -p no:warnings

# Coverage reporting (commented out by default, uncomment to enable)
# addopts = -v --tb=short --strict-markers -p no:warnings --cov=crew --cov=agents --cov=tasks --cov-report=html --cov-report=term
